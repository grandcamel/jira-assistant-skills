[pytest]
# Test discovery paths
testpaths = plugins/jira-assistant-skills/skills tests

# Directories to ignore during test collection
norecursedirs =
    .claude
    __pycache__
    .git
    .venv
    venv
    node_modules
    templates
    docker
    references
    assets

# Test file patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Import mode - use importlib to avoid conflicts with multiple tests/ directories
pythonpath = .
addopts = -v --tb=short --import-mode=importlib

# Filter warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Markers
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    live: marks tests requiring live API access
    unit: marks tests as unit tests
    agile: marks tests as agile skill tests
    bulk: marks tests as bulk operations skill tests
    shared: marks tests as shared library tests
    api: marks tests as requiring API access
    smoke: marks smoke tests
    search: marks tests as search skill tests
    time: marks tests as time tracking skill tests
    collaborate: marks tests as collaborate skill tests
    relationships: marks tests as relationships skill tests
    lifecycle: marks tests as lifecycle skill tests
    dev: marks tests as jira-dev skill tests
    ops: marks tests as ops skill tests
    fields: marks tests as fields skill tests
    jsm: marks tests as JSM skill tests
    jsm_requests: marks tests as JSM request management tests
    jsm_customers: marks tests as JSM customer/org management tests
    jsm_approvals: marks tests as JSM approval workflow tests
    jsm_sla: marks tests as JSM SLA management tests
    jsm_queues: marks tests as JSM queue management tests
    jsm_kb: marks tests as JSM knowledge base tests
    jsm_premium: marks tests requiring JSM Premium license
    admin: marks tests as admin skill tests
    asyncio: marks tests as async tests
    worklog: marks tests as worklog tests
    estimate: marks tests as estimate tests
    transition: marks tests as transition tests
    version: marks tests as version tests
    component: marks tests as component tests
    links: marks tests as link tests
    blockers: marks tests as blocker tests
    clone: marks tests as clone tests
    comments: marks tests as comment tests
    notifications: marks tests as notification tests
    attachments: marks tests as attachment tests
    watchers: marks tests as watcher tests
